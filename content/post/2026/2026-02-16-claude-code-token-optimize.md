---
title: "Claude Code 토큰 최적화 총정리: 프롬프트 습관부터 MCP 전략까지"
date: 2026-02-16T02:05:00+09:00
draft: true
description: "Claude Code 토큰 절약 전략을 한 번에 정리한 요약 포스팅입니다."
categories: [AI, Development, Productivity]
tags: [claude, claude-code, token, prompt, mcp, optimization]
---

Claude Code를 활용하는 개발자라면 토큰 최적화는 비용과 성능을 모두 좌우하는 핵심 요소입니다. Claude Code 토큰 최적화 전략을 한 번에 정리해보겠습니다.

<!--more-->

## 핵심 요약

Claude Code 토큰 최적화는 크게 두 축입니다.

1. 프롬프트/세션 습관 최적화
2. MCP 도구 로딩 최적화

기본 사용자는 1번만 제대로 해도 효과가 크고, MCP를 많이 쓰는 사용자라면 2번이 비용 차이를 크게 만듭니다.

## 1) 프롬프트는 하이브리드로 작성하기

"명령은 영어, 설명은 한국어"입니다.

- 명령어/기술 용어/파일명/함수명은 영어 유지
- 보충 설명만 짧게 한국어 사용
- 긴 문장 대신 작업 단위 불릿으로 요청

예시:

```text
Create login feature
- email/password 사용
- JWT auth
- 로그인 실패 시 error message
```

- 한글 프롬프트는 영어 대비 토큰이 더 많이 소모될 수 있음
- 예시 비교: "이 코드를 리팩토링해주세요"(약 197토큰) vs "Please refactor this code"(약 39토큰)
- 의미: 같은 요청이라도 표현 방식에 따라 비용 차이가 크게 벌어질 수 있음

## 2) 프롬프트를 짧고 단위별로 쪼개기

한 번에 큰 요청을 보내면 입력 토큰도 늘고 출력도 길어집니다.

- 인사말/중복 설명 제거
- 한 요청에 한 작업만 담기
- "전체 리팩터링"보다 "파일 단위"로 나누기

핵심은 **큰 작업을 작은 요청으로 분해**하는 것입니다.

## 3) 세션 컨텍스트를 계속 비우기

세션이 길어질수록 과거 문맥이 누적되어 토큰이 가파르게 증가합니다.

- `/clear`: 작업 단위 종료 후 초기화
- `/compact`: 긴 대화를 요약 압축
- `/stats`: 사용량을 수시로 확인

토큰 관리는 감이 아니라, 명령어로 확인하는 습관이 중요합니다.

특히 유용한 부분은 "실수 방지"와 "재사용"입니다.

- 너무 짧게 줄여 의미가 모호해지지 않게, 최소 맥락은 유지
- 반복 프롬프트는 `.claude/commands/`에 슬래시 명령으로 저장
- 큰 요청은 기능 단위로 분해해서 순차 처리

## 4) CLAUDE.md로 반복 설명 줄이기

프로젝트 규칙을 매번 프롬프트에 쓰지 말고 `CLAUDE.md`에 고정합니다.

- 기술 스택
- 코드 스타일
- 자주 쓰는 명령어
- 프로젝트별 주의사항

반복 입력이 줄어들어 전체 토큰 사용량이 안정됩니다.

## 5) MCP는 "많이 연결"보다 "선택 연결"

MCP 서버가 많아질수록 세션 시작 시 도구 정의 토큰 오버헤드가 커진다는 점입니다.

- 사용하지 않는 서버는 비활성화
- 필요할 때만 서버 활성화
- 작업별 MCP 구성을 분리해 최소 세트로 실행

실전 명령:

```text
/mcp
/mcp disable <server-name>
/mcp enable <server-name>
```

## 6) MCP 고급 최적화 포인트

MCP를 자주 쓰는 경우, 아래 순서로 점검하면 좋습니다.

1. 서버별 도구 수 확인 후 과다 서버 비활성화
2. 중복/유사 도구를 통합해 설명 길이 축소
3. 출력 토큰 상한(`MAX_MCP_OUTPUT_TOKENS`) 조정
4. 단순 조회성 작업은 세션 외 직접 호출 방식 검토

참고로 Tool Search Tool/defer loading은 글 기준으로 API 베타 중심 내용이며, CLI 지원 범위는 시점에 따라 달라질 수 있습니다.


"CLI에서 지금 당장 할 수 있는 최적화"입니다.

- `--allowedTools`/`--disallowedTools`로 불필요한 도구 노출을 제한
- 작업 성격별로 `--mcp-config`를 분리해 최소 서버 세트로 시작
- 단순 조회는 `mcp-cli call`로 세션 없이 직접 호출해 오버헤드 회피
- Tool Search Tool은 API 베타 맥락이므로 CLI 기능과 구분해서 이해

## 통합 체크리스트

작업 시작 전에 아래 7가지를 확인하세요.

1. 명령어를 영어 중심으로 썼는가?
2. 요청을 한 작업 단위로 쪼갰는가?
3. 불필요한 인사말/중복 설명을 제거했는가?
4. 필요한 파일만 선택해서 전달했는가?
5. 새 작업 전에 `/clear` 또는 `/compact`를 실행했는가?
6. `/stats`로 사용량을 점검했는가?
7. 사용하지 않는 MCP 서버를 비활성화했는가?

## 마무리

요약하면, 일반 사용자는 **프롬프트/세션 습관 최적화**만으로도 체감 절감이 크고, MCP 중심 워크플로우에서는 **도구 로딩 관리**가 추가로 큰 차이를 만듭니다.

두 전략을 함께 적용하면 비용, 속도, 정확도 균형을 가장 안정적으로 가져갈 수 있습니다.

## 참고

- https://twofootdog.tistory.com/422
- https://goddaehee.tistory.com/445
- https://www.anthropic.com/engineering/advanced-tool-use
