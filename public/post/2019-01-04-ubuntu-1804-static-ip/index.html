<!DOCTYPE html>
<html lang="ko-KR"><head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Gyuha blog 'Ubuntu 18.04에서 netplan을 사용한 static ip 설정'" />
  <title>Ubuntu 18.04에서 netplan을 사용한 static ip 설정  | 신규하 블로그</title>
  <meta property="og:title" content="Ubuntu 18.04에서 netplan을 사용한 static ip 설정" />
  
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2019-01-04"> 
  <meta property="og:url" content="https://gyuha.github.io/post/2019-01-04-ubuntu-1804-static-ip/" />
  <meta property="og:site_name" content="신규하 블로그" />
   <meta property="og:image" content="https://gyuha.github.io/images/thumbnail.png">  
  <meta property="og:tags" content="ubuntu" />
  
  <meta property="og:tags" content="setting" />
  

  
  <link rel="icon" href="/favicon.ico" />

  
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
<div id="preloader">
  <div class="preload-content">
    <div id="loading-progress"></div>
  </div>
</div>



<header class="header-area">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav class="navbar navbar-expand-lg">
          
          <a class="navbar-brand" href='/'>
            <img src="/img/logo-title.png" alt="Logo" />
          </a>
          
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          
          <div class="collapse navbar-collapse" id="nav">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href='/'>블로그</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href='/categories'>카테고리</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href='/tags'>태그</a>
              </li>
            </ul>
            
            <div id="search-wrapper">
              <form action="https://google.com/search">
                <input type="text" name="q" id="search" placeholder="검색어" />
                <div id="close-icon"></div>
                <input class="d-none" type="submit" value="" />
                <input type="hidden" name="sitesearch" value="https://gyuha.github.io/" />
              </form>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
</header>

<div class="top-area">
  <div class="top-video top-video-small ">
    <video preload="preload" class="video" autoplay="autoplay" loop="loop" muted>
      <source src="/video/bg.webp" type="video/webp" />
      <source src="/video/bg.mp4" type="video/mp4" />
    </video>
    <div class="container">
      <div class="title-message">
        
        <a href="https://gyuha.github.io/post/2019-01-04-ubuntu-1804-static-ip/">
          <h1>
            Ubuntu 18.04에서 netplan을 사용한 static ip 설정
          </h1>
        </a>
        
      </div>
    </div>
  </div>
</div>
<div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-8">

<div class="post-title">
  <a href="https://gyuha.github.io/post/2019-01-04-ubuntu-1804-static-ip/">
    <div class="post-meta">
      <time></time>
    </div>
  </a>
</div>
<section class="post-content">
  
  <p>17.10부터 네트워크 인터페이스 설정이 <code>netplan</code>이라는 새로운 네트워크 설정이 생겼다. 기존에 인터페이스 설정(/etc/network/interfaces)보다는 간결해 보입니다.</p>
<p>변경 할 파일은 아래와 같습니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo vi /etc/netplan/50-cloud-init.yaml
</code></pre></div><p>기본적으로 dhcp로 설치 했을 경우 아래와 같이 나옵니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#66d9ef">network</span>:
    <span style="color:#66d9ef">ethernets</span>:
        <span style="color:#66d9ef">enp4s0f2</span>:
        	<span style="color:#66d9ef">addresses</span>: []
            <span style="color:#66d9ef">dhcp4</span>: <span style="color:#66d9ef">true</span>
   <span style="color:#66d9ef">version</span>: <span style="color:#ae81ff">2</span>
</code></pre></div><p>그 내용을 아래와 같이 ip와 정보를 넣고 설정 해 주면 됩니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#66d9ef">network</span>:
    <span style="color:#66d9ef">ethernets</span>:
        <span style="color:#66d9ef">enp4s0f2</span>:
            <span style="color:#66d9ef">dhcp4</span>: no
            <span style="color:#66d9ef">addresses</span>: [<span style="color:#ae81ff">192.168.1.200</span>/<span style="color:#ae81ff">24</span>]
            <span style="color:#66d9ef">gateway4</span>: <span style="color:#ae81ff">192.168.1.1</span>
            <span style="color:#66d9ef">nameservers</span>:
                    <span style="color:#66d9ef">addresses</span>: [<span style="color:#ae81ff">1.1.1.1</span>,<span style="color:#ae81ff">8.8.8.8</span>,<span style="color:#ae81ff">8.8.4.4</span>]
    <span style="color:#66d9ef">version</span>: <span style="color:#ae81ff">2</span>

</code></pre></div><p>그리고 변경 된 내용을 아래와 같이 적용 합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo netplan apply
</code></pre></div><p>변경된 내용을 <code>ifconfig</code>로 확인 하면 됩니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ifconfig
enp4s0f2: flags<span style="color:#f92672">=</span>4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu <span style="color:#ae81ff">1500</span>
        inet 192.168.1.200  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::290:f5ff:fee7:6e10  prefixlen <span style="color:#ae81ff">64</span>  scopeid 0x20&lt;link&gt;
        ether 00:90:f5:e7:6e:10  txqueuelen <span style="color:#ae81ff">1000</span>  <span style="color:#f92672">(</span>Ethernet<span style="color:#f92672">)</span>
        RX packets <span style="color:#ae81ff">89208</span>  bytes <span style="color:#ae81ff">132983451</span> <span style="color:#f92672">(</span>132.9 MB<span style="color:#f92672">)</span>
        RX errors <span style="color:#ae81ff">0</span>  dropped <span style="color:#ae81ff">9</span>  overruns <span style="color:#ae81ff">0</span>  frame <span style="color:#ae81ff">0</span>
        TX packets <span style="color:#ae81ff">55318</span>  bytes <span style="color:#ae81ff">4234704</span> <span style="color:#f92672">(</span>4.2 MB<span style="color:#f92672">)</span>
        TX errors <span style="color:#ae81ff">0</span>  dropped <span style="color:#ae81ff">0</span> overruns <span style="color:#ae81ff">0</span>  carrier <span style="color:#ae81ff">0</span>  collisions <span style="color:#ae81ff">0</span>

lo: flags<span style="color:#f92672">=</span>73&lt;UP,LOOPBACK,RUNNING&gt;  mtu <span style="color:#ae81ff">65536</span>
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen <span style="color:#ae81ff">128</span>  scopeid 0x10&lt;host&gt;
        loop  txqueuelen <span style="color:#ae81ff">1000</span>  <span style="color:#f92672">(</span>Local Loopback<span style="color:#f92672">)</span>
        RX packets <span style="color:#ae81ff">252</span>  bytes <span style="color:#ae81ff">19812</span> <span style="color:#f92672">(</span>19.8 KB<span style="color:#f92672">)</span>
        RX errors <span style="color:#ae81ff">0</span>  dropped <span style="color:#ae81ff">0</span>  overruns <span style="color:#ae81ff">0</span>  frame <span style="color:#ae81ff">0</span>
        TX packets <span style="color:#ae81ff">252</span>  bytes <span style="color:#ae81ff">19812</span> <span style="color:#f92672">(</span>19.8 KB<span style="color:#f92672">)</span>
        TX errors <span style="color:#ae81ff">0</span>  dropped <span style="color:#ae81ff">0</span> overruns <span style="color:#ae81ff">0</span>  carrier <span style="color:#ae81ff">0</span>  collisions <span style="color:#ae81ff">0</span>
</code></pre></div><p>그런데.. dhcp4가 <code>true</code>이다가.. 끌때는 <code>no</code>로 변경 되어서.. 오타인가 찾아 봤는데..</p>
<p>모두 그렇게 사용하고 있네요.. 흠&hellip;..</p>
<p>이상하지만 잘 동작 합니다. -_-;;;</p>
</section>
<time>
  <i class="far fa-clock"></i>
  2019년 01월 04일 10시 30분
</time>
 
<i class="far fa-folder"></i>
<a href="https://gyuha.github.io//categories/system">system</a>
 

<hr class="summary-sep" />
<div class="recommend-articles">
  <h3>
    추천 글
  </h3>
  <ul>
    
    <li>
      <a href="https://gyuha.github.io/post/2019-01-04-ubuntu-server-labtop-cover/" rel="prev">
        <span>우분투 노트북 서버 사용시 커버를 덮어도 잠들지 않도록 하기</span>
      </a>
    </li>
     
    <li>
      <a href="https://gyuha.github.io/post/2019-01-04-ubuntu-1804-kimchi-install/" rel="next">
        <span>우분투 18.04에서 kimchi 설치 하기</span>
      </a>
    </li>
    
  </ul>
</div>
 
        </div>

        <div id="sidebar" class="col-12 col-md-8 col-lg-4">
          <div class="post-sidebar-area">
<div id="post-toc" class="sidebar-widget-area">
  <div class="title">
    <i class="fa fa-list"></i>
    목차
  </div>
  <div class="widget-content">
    <nav id="TableOfContents"></nav>
  </div>
</div>
<div class="sidebar-widget-area">
  <div class="title">
    <i class="fa fa-tag"></i>
    태그
  </div>
  <div class="widget-content">
     
    <a href="https://gyuha.github.io/tags/ubuntu" class="badge badge-secondary">ubuntu</a>
    <a href="https://gyuha.github.io/tags/setting" class="badge badge-secondary">setting</a>
  </div>
</div>

          </div>
        </div>
      </div>
    </div>
<footer class="footer-area">
  <div class="container">
    <div class="row">
      <div class="col-12 col-md-4">
        <div class="footer-single-widget">
          <div class="copywrite-text mt-30">
            <p>
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved
            </p>
            <p>made with by Gyuha</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>


<script src="/vendor/jquery-2.2.4.min.js"></script>
<script src="/vendor/bootstrap/popper.min.js"></script>
<script src="/vendor/bootstrap/bootstrap.min.js"></script>
<script src="/vendor/native-console.js"></script>
<script src="/vendor/jquery.easing.1.3.js"></script>
<script src="/vendor/loading-progress.js"></script>
<script src="/vendor/jquery.waypoints.min.js"></script>
<script src="/vendor/jquery.scrollUp.min.js"></script>
<script src="/vendor/jquery.matchHeight-min.js"></script>
<script src="/vendor/imagesloaded.pkgd.min.js"></script>
<script src="/vendor/counterup2.js"></script>


<script src="/js/active.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>

</body>
</html>
